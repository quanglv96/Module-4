<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>JSP - Hello World</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<style>
  body{
    text-align: center;
    margin: 50px;
  }
</style>

<body>
<div align="center">
  <div>
    <form action="/product/create" method="get">
      <button class="btn btn-primary" type="submit">ADD New Product</button>
    </form>
  </div>
  <table class="table table-primary">
    <tr>
      <th>STT</th>
      <th>ID</th>
      <th>Name</th>
      <th>Price</th>
      <th>Edit</th>
      <th>Delete</th>
      <th>View</th>
    </tr>
    <tr th:each="p,cstatus : ${productList}">
      <td th:text="${cstatus.count}"></td>
      <td th:text="${p.getId()}"></td>
      <td th:text="${p.getName()}"></td>
      <td th:text="${p.getPrice()}"></td>
      <td><a th:href="@{/product/{id}/edit(id=${p.getId()})}">Edit</a></td>
      <td><a onclick="return confirmDelete()" th:href="@{/product/{id}/delete(id=${p.getId()})}">Delete</a></td>
      <td><a th:href="@{/product/{id}/view(id=${p.getId()})}">View</a></td>
    </tr>
  </table>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
<script>
  function confirmDelete(){
    let result = confirm("Are you sure you want to delete?");
    if(result)  {
      alert("successful delete");
      return true;
    }
    return false
  }
</script>
</html>